<div class="usuario-panel-container" *ngIf="usuario">
  <h2>Mi Panel de Usuario</h2>
  <div class="usuario-info">
    <p><strong>Usuario:</strong> {{ usuario.username }}</p>
    <p><strong>Empresa:</strong> {{ usuario.Empresa?.nombre || 'Sin empresa' }}</p>
    <p><strong>Estado actual:</strong> {{ usuario.estado }}</p>
  </div>
  <div class="cambiar-estado">
    <label for="estado">Cambiar estado:</label>
    <select [(ngModel)]="estadoSeleccionado" (change)="cambiarEstado()" id="estado">
      <option *ngFor="let est of estados" [value]="est.value">{{ est.label }}</option>
    </select>
  </div>
  <h3 class="change-pass-title">Cambiar Contrase単a</h3>
  <form [formGroup]="passwordForm" (ngSubmit)="cambiarPassword()" class="change-pass-form">
    <div class="input-group">
      <input type="password" formControlName="nuevaPassword" placeholder="Nueva contrase単a" required autocomplete="new-password">
    </div>
    <button type="submit" [disabled]="passwordForm.invalid" class="btn-change-pass">Cambiar Contrase単a</button>
    <p *ngIf="cambioOk" class="pass-success">Contrase単a cambiada correctamente.</p>
  </form>

</div>
